!function(e){function t(t){for(var r,a,u=t[0],c=t[1],s=t[2],d=0,f=[];d<u.length;d++)a=u[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(t);f.length;)f.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,u=1;u<n.length;u++){var c=n[u];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={0:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var l=c;i.push([121,1]),n()}({121:function(e,t,n){n(122),e.exports=n(324)},308:function(e,t,n){},309:function(e,t,n){},310:function(e,t,n){},311:function(e,t,n){},312:function(e,t,n){},313:function(e,t,n){},314:function(e,t,n){},315:function(e,t,n){},316:function(e,t,n){},317:function(e,t,n){},318:function(e,t,n){},319:function(e,t,n){},320:function(e,t,n){},321:function(e,t,n){},322:function(e,t,n){},323:function(e,t,n){},324:function(e,t,n){"use strict";n.r(t);n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323);var r=function(e,t,n){var r=document.querySelector(e);if(document.createElement("div").style.cssText="font-size: 2rem; color: blue;",r){var o=r.querySelector("button").textContent;r.addEventListener("submit",(function(e){if(!r.querySelector(".error")){e.preventDefault(),r.querySelector("button").textContent="Loading...";var a=new FormData(r),u={};a.forEach((function(e,t){u[t]=e})),i(u).then((function(e){if(200!==e.status)throw new Error("status network not 200");r.querySelector("button").textContent=o,r.reset(),n&&document.querySelector(t).classList.remove(n),document.querySelector(".popup-thanks").classList.add("popup-menu_active-menu")})).catch((function(e){r.querySelector("button").textContent="Something went wrong...",console.error(e)})).finally((function(){}))}}))}var i=function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}};function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t){var n=t.selector,r=t.pattern,i=void 0===r?{}:r,a=t.method;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.form=document.querySelector(n),this.pattern=i,this.method=a,this.elementsForm=o(this.form.elements).filter((function(e){return"button"!==e.tagName.toLowerCase()&&"button"!==e.type})),this.error=new Set}var t,n,r;return t=e,(n=[{key:"init",value:function(){var e=this;this.applyStyle(),this.setPattern(),this.elementsForm.forEach((function(t){return t.addEventListener("change",e.checkIt.bind(e))})),this.form.addEventListener("submit",(function(t){t.preventDefault(),e.elementsForm.forEach((function(t){return e.checkIt({target:t})})),e.error.size?t.preventDefault():"checkbox"!==e.form.getAttribute("type")||e.checked}))}},{key:"isValid",value:function(e){var t=this,n={notEmpty:function(e){return""!==e.value.trim()},pattern:function(e,t){return"checkbox"===e.getAttribute("type")?e.checked:t.test(e.value)}};if(this.method){var r=this.method[e.id];if(r)return r.every((function(r){return n[r[0]](e,t.pattern[r[1]])}))}else console.warn("Необходимо передать id полей ввода и методы проверки этих полей! Для работы валидатора");return!0}},{key:"checkIt",value:function(e){var t=e.target;this.isValid(t)?(this.showSuccess(t),this.error.delete(t)):(this.showError(t),this.error.add(t))}},{key:"showError",value:function(e){if(e.classList.remove("success"),e.classList.add("error"),!e.nextElementSibling||!e.nextElementSibling.classList.contains("validator-error")){var t=document.createElement("div");t.textContent="Error in this field",t.classList.add("validator-error"),e.nextElementSibling&&(e=e.nextElementSibling),e.insertAdjacentElement("afterend",t)}}},{key:"showSuccess",value:function(e){e.classList.remove("error"),e.classList.add("success"),e.nextElementSibling&&"LABEL"==e.nextElementSibling.tagName&&(e=e.nextElementSibling),e.nextElementSibling&&e.nextElementSibling.classList.contains("validator-error")&&e.nextElementSibling.remove()}},{key:"applyStyle",value:function(){var e=document.createElement("style");e.textContent="\n            input.success, textarea.success {\n                border: 2px solid purple\n            }\n            input.error, textarea.error  {\n                border: 3px solid red\n            }\n            .validator-error {\n            font-size: 12px;\n            font-family: sans-serif;\n            color: red;\n            }\n        ",document.head.appendChild(e)}},{key:"setPattern",value:function(){this.pattern.phone||(this.pattern.phone=/^\+?[78]([-() ]*\d){10}$/),this.pattern.email||(this.pattern.email=/^([-_.]*\w)+@([-_.]*\w)+\.\w{2,}$/),this.pattern.nameAndText||(this.pattern.nameAndText=/^[A-Z ]*$/i),this.pattern.nameAndTextAndDigits||(this.pattern.nameAndTextAndDigits=/.|\n/),this.pattern.check1||(this.pattern.check1="checked")}}])&&i(t.prototype,n),r&&i(t,r),e}(),u=function(e,t){return e.classList.contains(t)?e.classList.remove(t):e.classList.add(t)},c=function(e,t,n,r,o,i){var a=document.querySelector(t);document.addEventListener("click",(function(t){var c=t.target;c.closest(e)?(u(a,o),i&&(document.querySelector(i).style="display: none")):c.closest(n)&&a.classList.contains(o)?u(a,o):!c.closest(r)&&a&&a.classList.contains(o)&&u(a,o)}))},s=function(e,t){document.addEventListener("DOMContentLoaded",(function(){document.querySelector(e).classList.add(t)}))};(document.querySelector(".modal-window")?r("form",".modal-window","modal-window_display"):document.querySelector("form")&&r("form",".modal-window"),document.querySelector("#form"))&&new a({selector:"#form",pattern:{},method:{email:[["notEmpty"],["pattern","email"]],name:[["notEmpty"],["pattern","nameAndText"]],text:[["notEmpty"],["pattern","nameAndTextAndDigits"]]}}).init();document.querySelector(".header__button-menu")&&c(".header__button-menu",".popup-menu",".popup-menu__close-menu-btn",".popup-menu","popup-menu_active-menu"),document.querySelector(".footer__callback-link")&&c(".footer__callback-link",".modal-window",".modal-window__close-menu-btn",".modal-window__form-wrapper","modal-window_display"),document.querySelector(".popup-thanks")&&c(null,".popup-thanks",".popup-menu__close-menu-btn",".popup-thanks","popup-menu_active-menu"),document.querySelector(".illustration")&&(s(".illustration__man","animate"),s(".illustration__platform","animate"),s(".illustration__woman","animate"),s(".illustration__smart-home-house","animate"))}});